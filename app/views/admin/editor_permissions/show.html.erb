<!-- =========================================================
  View: Admin / EditorPermissions 詳細
  File: app/views/admin/editor_permissions/show.html.erb
  ---------------------------------------------------------
  目的:
    - 個別の編集権限の詳細情報を表示
    - 編集 / 削除 / 一覧へ戻る の操作を提供
  構成:
    1) パンくず
    2) タイトル
    3) 概要カード（User / Target / Role / 作成/更新）
    4) 操作カード（編集 / 削除 / 戻る）
  注意:
    - @editor_permission と @perm が混在しているので元のまま保持
========================================================= -->

<!-- =======================
     1) パンくず
======================= -->
<% breadcrumb :admin_editor_permissions %>
<% breadcrumb :admin_editor_permission, @editor_permission %>
<%= render "shared/breadcrumbs" %>

<!-- =======================
     2) タイトル
======================= -->
<h1 class="text-2xl font-bold mb-6">権限の詳細</h1>

<!-- =======================
     3) 詳細カード群
======================= -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
  <!-- 概要 -->
  <div class="rounded border bg-white">
    <div class="px-4 py-3 border-b font-semibold">概要</div>
    <div class="px-4 py-3 text-sm grid grid-cols-3 gap-2 items-center">
      <div class="text-slate-500">User</div><div class="col-span-2"><%= @perm.user.name %></div>
      <div class="text-slate-500">Target</div>
      <div class="col-span-2">
        <%= type_badge(@perm.target_type) %>
        <span class="ml-2"><%= @perm.target_human_label %></span>
      </div>
      <div class="text-slate-500">Role</div><div class="col-span-2"><%= role_badge(@perm.role) %></div>
      <div class="text-slate-500">作成</div><div class="col-span-2"><%= l @perm.created_at, format: :long %></div>
      <div class="text-slate-500">更新</div><div class="col-span-2"><%= l @perm.updated_at, format: :long %></div>
    </div>
  </div>

  <!-- 操作 -->
  <div class="rounded border bg-white">
    <div class="px-4 py-3 border-b font-semibold">操作</div>
    <div class="px-4 py-3 flex flex-wrap gap-3">
      <%= link_to "編集", edit_admin_editor_permission_path(@perm), class: "rounded px-4 py-2 bg-slate-900 text-white" %>
      <%= link_to "削除", admin_editor_permission_path(@perm),
            data: { turbo_method: :delete, turbo_confirm: "削除しますか？" },
            class: "rounded px-4 py-2 ring-1 ring-slate-300 bg-white text-rose-600" %>
      <%= link_to "一覧へ戻る", admin_editor_permissions_path, class: "rounded px-4 py-2 ring-1 ring-slate-300 bg-white" %>
    </div>
  </div>
</div>
