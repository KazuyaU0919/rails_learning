# =========================================================
# File: config/storage.yml
# ---------------------------------------------------------
# 目的:
#   Active Storage（ファイルアップロード）の保存先設定。
#   Render の Persistent Disk を利用して画像を永続化。
# =========================================================

# =======================
# テスト環境
# =======================
test:
  service: Disk
  root: <%= Rails.root.join("tmp/storage") %>

# =======================
# 開発/ローカル環境
# =======================
local:
  service: Disk
  root: <%= Rails.root.join("storage") %>

# =======================
# 本番（Render）環境
# =======================
production:
  service: Disk
  # Persistent Disk を /rails/storage にマウントし、環境変数で参照
  root: <%= ENV.fetch("RAILS_STORAGE_ROOT", Rails.root.join("storage")) %>
